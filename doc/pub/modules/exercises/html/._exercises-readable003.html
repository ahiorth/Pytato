<!--
File automatically generated using DocOnce (https://github.com/doconce/doconce/):
doconce format html main_exercises.do.txt CHAPTER=document BOOK=document APPENDIX=document --html_style=bootswatch_readable --html_output=exercises-readable --html_code_style=inherit
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/doconce/doconce/" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content="Exercises-I">
<title>Exercises-I</title>
<!-- Bootstrap style: bootswatch_readable -->
<!-- doconce format html main_exercises.do.txt CHAPTER=document BOOK=document APPENDIX=document --html_style=bootswatch_readable --html_output=exercises-readable --html_code_style=inherit -->
<link href="https://netdna.bootstrapcdn.com/bootswatch/3.1.1/readable/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->
<style type="text/css">
/* Let inline verbatim have the same color as the surroundings */
code { color: inherit; background-color: transparent; }
/* Add scrollbar to dropdown menus in bootstrap navigation bar */
.dropdown-menu {
   height: auto;
   max-height: 400px;
   overflow-x: hidden;
}
/* Adds an invisible element before each target to offset for the navigation
   bar */
.anchor::before {
  content:"";
  display:block;
  height:64px;      /* fixed header height for style bootswatch_readable */
  margin:-64px 0 0; /* negative fixed header height */
}
</style>
</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [('Table of contents',
               1,
               'table_of_contents',
               'table_of_contents'),
              ('Before you start', 1, None, 'before-you-start'),
              ('Exercise 1: Install Bedmap to visualize Antarctica ice data',
               1,
               None,
               'exercise-1-install-bedmap-to-visualize-antarctica-ice-data'),
              ('Background', 2, None, 'background'),
              ('Exercise 2: Matplotlib visualization',
               1,
               None,
               'exercise-2-matplotlib-visualization'),
              ('Use vanilla Python (hard)', 3, None, 'use-vanilla-python-hard'),
              ('Convert list to Numpy arrays and plot (easy)',
               3,
               None,
               'convert-list-to-numpy-arrays-and-plot-easy'),
              ('Exercise 3: Group data', 1, None, 'exercise-3-group-data'),
              ('Exercise 4: Read tabulated data from file',
               1,
               None,
               'exercise-4-read-tabulated-data-from-file'),
              ('Solution 1 Pandas (easy):', 2, None, 'solution-1-pandas-easy'),
              ('Solution 2 `numpy.loadtxt` (medium):',
               2,
               None,
               'solution-2-numpy-loadtxt-medium'),
              ('Solution 3 Vanilla Python (hard):',
               2,
               None,
               'solution-3-vanilla-python-hard'),
              ('Store the data in a dictionary (optional)',
               3,
               None,
               'store-the-data-in-a-dictionary-optional'),
              ('Exercise 5: Splitting data into files using Pandas',
               1,
               None,
               'exercise-5-splitting-data-into-files-using-pandas'),
              ('Exercise 6: Splitting all field data into separate files',
               1,
               None,
               'exercise-6-splitting-all-field-data-into-separate-files'),
              ('Exercise 7: Splitting field data into separate files and '
               'folder',
               1,
               None,
               'exercise-7-splitting-field-data-into-separate-files-and-folder'),
              ('Bibliography', 1, None, 'bibliography')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript" async
 src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="exercises-readable.html">Exercises-I</a>
  </div>
  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="._exercises-readable000.html#table_of_contents" style="font-size: 80%;"><b>Table of contents</b></a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable000.html#before-you-start" style="font-size: 80%;"><b>Before you start</b></a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable001.html#exercise-1-install-bedmap-to-visualize-antarctica-ice-data" style="font-size: 80%;"><b>Exercise 1: Install Bedmap to visualize Antarctica ice data</b></a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable001.html#background" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Background</a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable002.html#exercise-2-matplotlib-visualization" style="font-size: 80%;"><b>Exercise 2: Matplotlib visualization</b></a></li>
     <!-- navigation toc: --> <li><a href="#use-vanilla-python-hard" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use vanilla Python (hard)</a></li>
     <!-- navigation toc: --> <li><a href="#convert-list-to-numpy-arrays-and-plot-easy" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convert list to Numpy arrays and plot (easy)</a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable004.html#exercise-3-group-data" style="font-size: 80%;"><b>Exercise 3: Group data</b></a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable006.html#exercise-4-read-tabulated-data-from-file" style="font-size: 80%;"><b>Exercise 4: Read tabulated data from file</b></a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable007.html#solution-1-pandas-easy" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Solution 1 Pandas (easy):</a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable007.html#solution-2-numpy-loadtxt-medium" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Solution 2 <code>numpy.loadtxt</code> (medium):</a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable007.html#solution-3-vanilla-python-hard" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Solution 3 Vanilla Python (hard):</a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable007.html#store-the-data-in-a-dictionary-optional" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store the data in a dictionary (optional)</a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable008.html#exercise-5-splitting-data-into-files-using-pandas" style="font-size: 80%;"><b>Exercise 5: Splitting data into files using Pandas</b></a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable010.html#exercise-6-splitting-all-field-data-into-separate-files" style="font-size: 80%;"><b>Exercise 6: Splitting all field data into separate files</b></a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable012.html#exercise-7-splitting-field-data-into-separate-files-and-folder" style="font-size: 80%;"><b>Exercise 7: Splitting field data into separate files and folder</b></a></li>
     <!-- navigation toc: --> <li><a href="._exercises-readable013.html#bibliography" style="font-size: 80%;"><b>Bibliography</b></a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->
<div class="container">
<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->
<a name="part0003"></a>
<!-- !split -->
<p>
<b>Solution1:</b>
</p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #f8f8f8">
  <pre style="line-height: 125%;"><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">matplotlib.pyplot</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">plt</span>
plt<span style="color: #666666">.</span>plot(years,oe)
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>

<p>
<b>Solution2:</b>
</p>
<h3 id="use-vanilla-python-hard" class="anchor">Use vanilla Python (hard) </h3>
<p>Here we need to loop over all elements and for each year add the month, divided by 12 to convert the month to year. What we want is</p>

<ol>
<li> To start with an empty list <code>year_month=[]</code></li>
<li> Loop over all elements and add first year and first month divided by 12</li>
</ol>
<div class="alert alert-block alert-success alert-text-normal"><b>How do we do loop over elements in Python?</b>
<p>We loop over elements using a <code>for</code> loop. The keyword <code>for</code> is always accompanied by the <code>in</code> keyword. </p>
</div>


<p>
<b>Method 1:</b>
</p>

<p>If you have coded before, this might be very familiar.</p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #f8f8f8">
  <pre style="line-height: 125%;">N<span style="color: #666666">=</span><span style="color: #008000">len</span>(years) <span style="color: #3D7B7B; font-style: italic"># N is the length of the years list</span>
year_month<span style="color: #666666">=</span>[]
<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(N):
    year_month<span style="color: #666666">.</span>append(years[i]<span style="color: #666666">+</span>months[i]<span style="color: #666666">/12</span>)   
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>


<div class="alert alert-block alert-success alert-text-normal"><b>Indentation matters!</b>
<p>The for-loop above ends with <code>:</code>, and then Python uses indentation (a tab) to indicate a block of code. <em>You have to use the same amount of spaces in the same block of code.</em> The following code will give an <em>error</em>.</p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #ffffff">
  <pre style="line-height: 125%;"><span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(N):
year_month<span style="color: #666666">.</span>append(years[i]<span style="color: #666666">+</span>months[i]<span style="color: #666666">/12</span>)<span style="color: #3D7B7B; font-style: italic">#Error!! because no indentation</span>
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>
</div>


<p>The statement <code>range(N)</code> is a <em>generator</em> and it generates a sequence of integers with length \( N \), starting from zero to \( N-1 \).</p>

<p>
<b>Method2:</b>
</p>

<p>This method is slightly more pythonic, than the previous. Instead of accessing the different elements in <code>years</code> by <code>years[i]</code>, we can loop directly over them</p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #f8f8f8">
  <pre style="line-height: 125%;">i<span style="color: #666666">=0</span>
<span style="color: #008000; font-weight: bold">for</span> year <span style="color: #AA22FF; font-weight: bold">in</span> years:
    year_month<span style="color: #666666">.</span>append(year<span style="color: #666666">+</span>months[i]<span style="color: #666666">/12</span>)
    i <span style="color: #666666">=</span> i<span style="color: #666666">+1</span>
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>


<div class="alert alert-block alert-success alert-text-normal"><b>Meaningful variable names</b>
<p>The specific name we give the counter, <code>year</code>, is not important for the computer. But if you choose a descriptive name it makes the code easier to read for humans.</p>
</div>


<p>The code above is ok, but it seems unnecessary to introduce the extra counter <code>i</code>, the way that we have done it. To access the index of each element in addition to the value, we can use the <code>enumerate()</code> function </p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #f8f8f8">
  <pre style="line-height: 125%;"><span style="color: #008000; font-weight: bold">for</span> i,year <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">enumerate</span>(years):
    year_month<span style="color: #666666">.</span>append(year<span style="color: #666666">+</span>months[i]<span style="color: #666666">/12</span>)
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>

<p>
<b>Method3:</b>
</p>

<p>If you have lists of the same length we can access the elements in a loop using the <code>zip</code> function</p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #f8f8f8">
  <pre style="line-height: 125%;"><span style="color: #008000; font-weight: bold">for</span> month,year <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">zip</span>(months,years):
    year_month<span style="color: #666666">.</span>append(year<span style="color: #666666">+</span>month<span style="color: #666666">/12</span>)
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>

<p>The <code>zip</code> function uses a nice feature in Python, which is called <em>variable unpacking</em>. This is a special assignment operation, where we can assign all variables in a an iterable object in one go e.g.</p>


<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #f8f8f8">
  <pre style="line-height: 125%;">my_list<span style="color: #666666">=</span>[<span style="color: #666666">2024</span>,<span style="color: #666666">1</span>,<span style="color: #666666">9</span>]
year,month,day<span style="color: #666666">=</span>my_list <span style="color: #3D7B7B; font-style: italic">#year=2024,month=1,day=9</span>
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>

<p>
<b>Method4:</b>
</p>

<p><a href="https://www.w3schools.com/python/python_lists_comprehension.asp" target="_self">*List comprehension*</a> is a very pythonic way of creating new lists. It allows us to write a for loop while creating a python list.</p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #f8f8f8">
  <pre style="line-height: 125%;">year_month <span style="color: #666666">=</span> [year<span style="color: #666666">+</span>month<span style="color: #666666">/12</span> <span style="color: #008000; font-weight: bold">for</span> month,year <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">zip</span>(months,years)]
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>


<ul>
<li> Use one of the methods above <code>year_month=np.array(year)+np.array(month)/12</code> and create a new plot, with <code>year_month</code> on the x-axis.</li>
<li> Try to make the plot as similar as possible to figure <a href="#fig:p1:ose">3</a></li> 
</ul>
<h3 id="convert-list-to-numpy-arrays-and-plot-easy" class="anchor">Convert list to Numpy arrays and plot (easy) </h3>

<p>As we have seen <code>year_month=year+month/12</code> will not work for lists as Python does not understand what <code>month/12</code> is, and even if it did the <code>+</code> operation would not give the expected results. But, if we convert our list to a Numpy array, life becomes easy. To convert a list to a Numpy array, we use what programmers calls <a href="https://www.w3schools.com/python/python_casting.asp" target="_self">*casting*</a>. Casting is when we tell the computer to convert a variable from one type to another, e.g.</p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #f8f8f8">
  <pre style="line-height: 125%;">my_list<span style="color: #666666">=</span>[<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">3</span>]
my_np_array<span style="color: #666666">=</span>np<span style="color: #666666">.</span>array(my_list) <span style="color: #3D7B7B; font-style: italic"># cast to array</span>
<span style="color: #3D7B7B; font-style: italic"># more examples</span>
a<span style="color: #666666">=</span><span style="color: #BA2121">&#39;1&#39;</span> <span style="color: #3D7B7B; font-style: italic"># a is a string</span>
b<span style="color: #666666">=</span><span style="color: #BA2121">&#39;2&#39;</span> <span style="color: #3D7B7B; font-style: italic"># b is a string</span>
a<span style="color: #666666">+</span>b <span style="color: #3D7B7B; font-style: italic"># gives a new string &#39;12&#39;</span>
<span style="color: #008000">int</span>(a)<span style="color: #666666">+</span><span style="color: #008000">int</span>(b) <span style="color: #3D7B7B; font-style: italic"># gives integer 3</span>
<span style="color: #008000">float</span>(a)<span style="color: #666666">+</span><span style="color: #008000">float</span>(b) <span style="color: #3D7B7B; font-style: italic"># gives float 3.0</span>
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>


<div class="alert alert-block alert-success alert-text-normal"><b>Vectorized operations in Numpy</b>
<p>One of the major strengths of Numpy is that it is vectorized. This means that mathematical operations you do with numbers such as <code>+</code>, <code>-</code>, <code>/</code>, <code>*</code>, you can also do with Numpy arrays with the effect that the operation is done on each element. <em>This only works if the arrays have the same length.</em> The only exception is if one of the elements is a single number, e.g.</p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="inner_cell">
      <div class="input_area">
        <div class="highlight" style="background: #ffffff">
  <pre style="line-height: 125%;"><span style="color: #3D7B7B; font-style: italic"># will divide all elements in month by 12</span>
np<span style="color: #666666">.</span>array(months)<span style="color: #666666">/12</span>
<span style="color: #3D7B7B; font-style: italic"># add first element in year with first element in month/12 and so on</span>
np<span style="color: #666666">.</span>array(years)<span style="color: #666666">+</span>np<span style="color: #666666">.</span>array(months)<span style="color: #666666">/12</span> 
</pre>
</div>
      </div>
    </div>
  </div>
  <div class="output_wrapper">
    <div class="output">
      <div class="output_area">
        <div class="output_subarea output_stream output_stdout output_text">          
        </div>
      </div>
    </div>
  </div>
</div>
</div>


<ul>
<li> Use <code>year_month=np.array(years)+np.array(months)/12</code> and create a new plot, with <code>year_month</code> on the x-axis.</li>
<li> Try to make the plot as similar as possible to figure <a href="#fig:p1:ose">3</a></li> 
</ul>
<center> <!-- figure label: --> <div id="fig:p1:ose"></div> <!-- FIGURE -->
<hr class="figure">
<center>
<p class="caption">Figure 3: Production of oil equivalents on the Draugen vs time.  <!-- caption label: fig:p1:ose --></p>
</center>
<p><img src="fig-exercises/oseberg.png" width="800" align="bottom"></p>
</center>

<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pager">
  <li class="previous">
    <a href="._exercises-readable002.html">&larr; Prev</a>
  </li>
  <li class="next">
    <a href="._exercises-readable004.html">Next &rarr;</a>
  </li>
</ul>
<!-- ------------------- end of main content --------------- -->
</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<!-- Bootstrap footer
<footer>
<a href="https://..."><img width="250" align=right src="https://..."></a>
</footer>
-->
</body>
</html>

